# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ YooMoney –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# YooMoney –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
YOOMONEY_MODE=PERSONAL
YOOMONEY_SHOP_ID=4100117804002054
YOOMONEY_NOTIFICATION_SECRET=–ò–¢–ê–õ–ò–Ø
YOOMONEY_REDIRECT_URL=https://vk.com/im?sel=-ID_–í–ê–®–ï–ô_–ì–†–£–ü–ü–´
YOOMONEY_WEBHOOK_URL=https://una-retrieve-german-tennis.trycloudflare.com/yoomoney

# –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
BOT_TOKEN=your_bot_token_here
GROUP_ID=your_group_id_here
ADMIN_USER_IDS=253133228
```

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTP-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ YooMoney

1. –í–æ–π–¥–∏—Ç–µ –≤ YooMoney
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü—Ä–∏—ë–º –ø–µ—Ä–µ–≤–æ–¥–æ–≤ ‚Üí HTTP-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **URL**: https://una-retrieve-german-tennis.trycloudflare.com/yoomoney
   - **–°–µ–∫—Ä–µ—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: –ò–¢–ê–õ–ò–Ø
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –≤–µ–±—Ö—É–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±—Ö—É–∫:
```bash
python webhook.py
```

3. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å Cloudflare:
```bash
cd C:\tools
.\cloudflared.exe tunnel --url http://localhost:5000
```

## –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –í –±–æ—Ç–µ –Ω–∞–∂–º–∏—Ç–µ "üí≥ –î–æ–Ω–∞—Ç—ã"
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏ –æ–ø–ª–∞—Ç–∏—Ç–µ
4. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã YooMoney –æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ –≤–µ–±—Ö—É–∫
5. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª–∏—Ç –º–æ–Ω–µ—Ç—ã

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ label –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π

YooMoney –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç label –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
ORDER_<user_id>_<timestamp>_<package_key>
```

–ü—Ä–∏–º–µ—Ä: `ORDER_123456_1692480000_starter`

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏

–í–µ–±—Ö—É–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å YooMoney –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É SHA1:
```
notification_type&operation_id&amount&currency&datetime&sender&codepro&notification_secret&label
```

## –õ–æ–≥–∏

–í–µ–±—Ö—É–∫ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.
