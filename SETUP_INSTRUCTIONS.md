# Инструкция по настройке CryBot

## 1. Настройка VK API

### Получение токена группы ВКонтакте:
1. Перейдите на https://vk.com/dev/access_token
2. Выберите "Сервисный ключ доступа"
3. Введите ID вашей группы (только цифры)
4. Скопируйте полученный токен

### Получение ID группы:
1. Откройте вашу группу ВКонтакте
2. В адресной строке будет что-то вроде: `https://vk.com/club123456789`
3. ID группы - это `123456789` (только цифры, без минуса)

## 2. Настройка администраторов

### Получение ID пользователя ВКонтакте:
1. Откройте профиль пользователя
2. В адресной строке будет что-то вроде: `https://vk.com/id123456789`
3. ID пользователя - это `123456789`

## 3. Настройка ИИ (OpenRouter)

### Получение API ключа OpenRouter:
1. Зарегистрируйтесь на https://openrouter.ai/
2. Перейдите в раздел API Keys
3. Создайте новый ключ
4. Скопируйте полученный ключ

## 4. Заполнение файла .env

Откройте файл `.env` и замените следующие значения:

```env
# Замените на ваш токен группы
VK_GROUP_TOKEN=vk1.a.your_actual_token_here

# Замените на ID вашей группы (только цифры)
VK_GROUP_ID=123456789

# Замените на ID администраторов (через запятую)
ADMIN_USER_IDS=123456789,987654321

# Замените на ваш API ключ OpenRouter
OPENROUTER_API_KEY=sk-or-v1-your_actual_key_here
```

## 5. Запуск бота

### В Windows (PowerShell):
```powershell
python -m venv .venv
.venv\Scripts\Activate.ps1
pip install -r requirements.txt
python bot_vk.py
```

### В Linux/Mac:
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
python bot_vk.py
```

## 6. Проверка работы

После запуска бота:
1. Отправьте сообщение `/start` в группу ВКонтакте
2. Бот должен ответить приветственным сообщением
3. Проверьте доступ к играм командой `/games`

## Устранение неполадок

### Ошибка "VK_GROUP_TOKEN is required"
- Проверьте, что токен правильно скопирован в файл `.env`
- Убедитесь, что нет лишних пробелов

### Ошибка "VK_GROUP_ID must be positive"
- Убедитесь, что ID группы содержит только цифры
- Не добавляйте минус перед ID

### Ошибка "At least one admin user ID must be specified"
- Проверьте, что в `ADMIN_USER_IDS` указаны правильные ID пользователей
- ID должны быть разделены запятыми без пробелов

### Ошибка "Config error: VK_GROUP_ID must be a number"
- Убедитесь, что ID группы - это число, а не строка
- Проверьте, что в файле `.env` нет кавычек вокруг ID